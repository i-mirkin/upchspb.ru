<? namespace Bitrix\Main;$GLOBALS['____1777837219']= array(base64_decode('Zmls'.'Z'.'V9'.'leG'.'lzdHM='),base64_decode('c3RydG9'.'1cH'.'B'.'lcg'.'=='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode('aW'.'5fYX'.'Jy'.'YXk='),base64_decode('aW5f'.'Y'.'X'.'Jy'.'YXk='),base64_decode(''.'a'.'W'.'5fYXJyYXk='),base64_decode('ZGVmaW5'.'lZA='.'='),base64_decode('Z'.'GVmaW'.'5l'.'ZA=='),base64_decode('ZGVm'.'aW5lZA=='),base64_decode(''.'Z'.'ml'.'sZV9leGlzdHM='),base64_decode('Zml'.'sZV'.'9le'.'GlzdHM='),base64_decode(''.'Zmls'.'Z'.'V9'.'leGlzdHM'.'='),base64_decode('ZmlsZ'.'V9leGlzdHM='),base64_decode('ZXhwbG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___130834137')){function ___130834137($_485009825){static $_1671284675= false; if($_1671284675 == false) $_1671284675=array('L'.'2JpdH'.'Jp'.'eC9saWNlbnNlX2tle'.'S5'.'waHA=','','','REVNT'.'w==','REVNT'.'w'.'==','Qkl'.'U'.'Ukl'.'Y',''.'TElD'.'RU'.'5D'.'RQ==','REVNTw==','L2tleV91cG'.'Rhd'.'GUuc'.'GhwP'.'2xpY'.'2V'.'uc2'.'Vfa2'.'V5'.'PQ'.'='.'=',''.'Jn'.'Rv'.'Y'.'m'.'Fz'.'a2V0'.'PXkmbGFuZ'.'z0=','cnU=','a'.'3o'.'=','Y'.'nk=','aHR0'.'cHM6'.'Ly9k'.'ZXYuM'.'WM'.'t'.'Y'.'m'.'l0cml4LnJ1'.'L2xlYXJ'.'uaW5n'.'L2'.'NvdXJzZS9'.'p'.'b'.'mRleC5'.'waHA/Q0'.'9VUlNFX0lEPTEzNSZ'.'MRVN'.'T'.'T05f'.'S'.'UQ9MjU3M'.'jA=','aHR0'.'cHM6Ly90cmF'.'p'.'bmlu'.'Z'.'y'.'5i'.'aX'.'Rya'.'Xg'.'yNC5'.'jb20vc3VwcG9y'.'dC9'.'0cm'.'F'.'pbm'.'luZ'.'y9jb3Vyc'.'2'.'UvaW'.'5k'.'ZXg'.'uc'.'GhwP0NP'.'VVJTRV9JRD0xNz'.'gmTEVT'.'U09'.'OX0'.'lE'.'PTI1OTMyJkxFU1NPTl9QQ'.'VRIPTE3N'.'TIwLjE3NTYyLjI1OTM'.'wLjI1OTMy','cn'.'U'.'=','Ynk=','a3o=','ZGU=','Z'.'XU'.'=','ZnI'.'=',''.'c'.'Gw=','aXQ=','dW'.'s=','ZXU'.'=','Y2'.'9t',''.'ZW4=','REVNTw'.'==',''.'WQ==',''.'VElNRUx'.'JTU'.'lUX0V'.'ESVRJT04=','WQ==','RU5DT0RF','WQ='.'=',''.'U'.'2l0ZUV4cGlyZURhdGU=','bWFp'.'bg='.'=','fnN'.'1cHB'.'vcnRfZ'.'ml'.'uaXNoX2'.'R'.'h'.'dGU=','W'.'S1tLWQ=','WS1tLWQ=','Yml0cml4MjQ'.'=','bWFp'.'bg==',''.'f'.'lBBUkFNX0'.'N'.'MSUVOVF9MQU5H','aW50'.'cmFu'.'ZX'.'Q=','ZW4=','c'.'n'.'U'.'=','bW'.'Fp'.'bg==','dmVuZ'.'G9y','dW'.'Ff'.'Yml0c'.'m'.'l'.'4X3'.'B'.'vcnRhb'.'A==','dWE'.'=',''.'Yml0cml4X'.'3Bvc'.'n'.'RhbA==','ZW4=',''.'MWN'.'fYml0cml4X3BvcnRhbA'.'==','cnU=','L'.'2JpdHJpeC9'.'tb2R'.'1'.'bGVzL21'.'h'.'aW4v'.'bGFuZy9'.'1YQ'.'==','dW'.'E=','L2J'.'pd'.'HJpeC9tb2R1bG'.'VzL2'.'1haW'.'4vbG'.'FuZy9ieQ==','Ynk=','L'.'2JpdHJpeC9tb2R1b'.'GVzL21haW4'.'vbGFuZy9reg==',''.'a3o=','L'.'2JpdH'.'J'.'peC9tb2R1bGVzL2'.'1haW4vbGFuZy9ydQ='.'=','cnU=','bWFp'.'bg='.'=','f'.'lBBUkFN'.'X1'.'BBUlROR'.'VJfSUQ=','bWFp'.'bg'.'==','UEFS'.'QU1fTUFYX'.'1VTRVJT','b'.'WFpbg==','f'.'kNPVU'.'5UX0VYVFJB','Tg==','WQ==',''.'ZXh0cm'.'F'.'uZXQ=','QU5EIFUuTE'.'F'.'TVF9MT0'.'dJTiA+IA==','QU5EIFUuTEFTVF9MT'.'0'.'dJTiBJUyBOT1QgT'.'lV'.'MTA==','a'.'W50cmFuZXQ=','ZXh0c'.'mFuZXQ=','Z'.'Xh0cmF'.'uZXR'.'fZ3'.'J'.'vdXA=','bWF'.'pb'.'g'.'==','fmxpY2Vuc2Vf'.'bmF'.'tZQ==','b'.'WFp'.'bg'.'='.'=','fmxpY2Vuc2Vf'.'Y2'.'9'.'kZX'.'M=','',''.'LA==');return base64_decode($_1671284675[$_485009825]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1883695775= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1883695775 === null){ $_95325726= Loader::getDocumentRoot(). ___130834137(0); $LICENSE_KEY= ___130834137(1); if($GLOBALS['____1777837219'][0]($_95325726)){ include($_95325726);} $this->_1883695775=($LICENSE_KEY == ___130834137(2) || $GLOBALS['____1777837219'][1]($LICENSE_KEY) == ___130834137(3)? ___130834137(4): $LICENSE_KEY);} return $this->_1883695775;} public function getHashLicenseKey(): string{ return $GLOBALS['____1777837219'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1777837219'][3](___130834137(5). $this->getKey(). ___130834137(6));} public function isDemoKey(): bool{ return $this->getKey() == ___130834137(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___130834137(8). $this->getHashLicenseKey(). ___130834137(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1158351037= $this->getRegion(); if($GLOBALS['____1777837219'][4]($_1158351037,[___130834137(10), ___130834137(11), ___130834137(12)])){ return ___130834137(13);} return ___130834137(14);} public function getRenewalLink(): string{ $_1158351037= $this->getRegion(); if($GLOBALS['____1777837219'][5]($_1158351037,[___130834137(15), ___130834137(16), ___130834137(17), ___130834137(18)])){ return self::URL_RENEWAL_LICENSE[$_1158351037];} if($GLOBALS['____1777837219'][6]($_1158351037,[___130834137(19), ___130834137(20), ___130834137(21), ___130834137(22), ___130834137(23)])){ return self::URL_RENEWAL_LICENSE[___130834137(24)];} return self::URL_RENEWAL_LICENSE[___130834137(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___130834137(26)];} public function isDemo(): bool{ return $GLOBALS['____1777837219'][7](___130834137(27)) && DEMO === ___130834137(28);} public function isTimeBound(): bool{ return $GLOBALS['____1777837219'][8](___130834137(29)) && TIMELIMIT_EDITION === ___130834137(30);} public function isEncoded(): bool{ return $GLOBALS['____1777837219'][9](___130834137(31)) && ENCODE === ___130834137(32);} public function getExpireDate():?Date{ $_210514943= (int)($GLOBALS[___130834137(33)] ?? min(138,0,46)); if($_210514943>(1140/2-570)){ return Date::createFromTimestamp($_210514943);} return null;} public function getSupportExpireDate():?Date{ $_210514943= Option::get(___130834137(34), ___130834137(35)); if(Date::isCorrect($_210514943, ___130834137(36))){ return new Date($_210514943, ___130834137(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___130834137(38))){ return \CBitrix24::getPortalZone();} $_1158351037= Option::get(___130834137(39), ___130834137(40)); if(!empty($_1158351037)){ return $_1158351037;} $_1158351037= $this->__1309190846(); if(!empty($_1158351037)){ return $_1158351037;} return $this->__90582771();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___130834137(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___130834137(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___130834137(43)];} private function __1309190846():?string{ $_436408103= Option::get(___130834137(44), ___130834137(45)); if($_436408103 === ___130834137(46)){ return ___130834137(47);} if($_436408103 === ___130834137(48)){ return ___130834137(49);} if($_436408103 === ___130834137(50)){ return ___130834137(51);} return null;} private function __90582771():?string{ $_1937351625= Application::getDocumentRoot(); if($GLOBALS['____1777837219'][10]($_1937351625. ___130834137(52))){ return ___130834137(53);} if($GLOBALS['____1777837219'][11]($_1937351625. ___130834137(54))){ return ___130834137(55);} if($GLOBALS['____1777837219'][12]($_1937351625. ___130834137(56))){ return ___130834137(57);} if($GLOBALS['____1777837219'][13]($_1937351625. ___130834137(58))){ return ___130834137(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___130834137(60), ___130834137(61),(1444/2-722));} public function getMaxUsers(): int{ return (int)Option::get(___130834137(62), ___130834137(63),(1188/2-594));} public function isExtraCountable(): bool{ return Option::get(___130834137(64), ___130834137(65), ___130834137(66)) === ___130834137(67) && ModuleManager::isModuleInstalled(___130834137(68));} public function getActiveUsersCount(Date $_1311085362= null): int{ $_1153205644= Application::getConnection(); $_515555448= min(224,0,74.666666666667); if($_1311085362 !== null){  $_960622629= ___130834137(69).$_1153205644->getSqlHelper()->convertToDbDate($_1311085362);} else{  $_960622629= ___130834137(70);} if(ModuleManager::isModuleInstalled(___130834137(71))){ $_123181992="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_960622629}
			"; $_515555448= (int)$_1153205644->queryScalar($_123181992); $_1754172176= (int)Option::get(___130834137(72), ___130834137(73)); if($_1754172176>(146*2-292) && $this->isExtraCountable()){ $_123181992="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1754172176}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_960622629}
							AND D.VALUE_ID IS NULL
					"; $_515555448 += (int)$_1153205644->queryScalar($_123181992);}} return $_515555448;}  public function getName(): string{ return Option::get(___130834137(74), ___130834137(75));}  public function getCodes(): array{ $_1417802543= Option::get(___130834137(76), ___130834137(77)); if($_1417802543 != ___130834137(78)){ return $GLOBALS['____1777837219'][14](___130834137(79), $_1417802543);} return[];}}?>