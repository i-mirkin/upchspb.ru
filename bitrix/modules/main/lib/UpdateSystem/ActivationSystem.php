<? namespace Bitrix\Main\UpdateSystem;$GLOBALS['____56737434']= array(base64_decode('a'.'XNfd3'.'JpdGFibGU'.'='),base64_decode(''.'Zm9wZW4='),base64_decode(''.'ZndyaX'.'Rl'),base64_decode(''.'ZmNsb3'.'N'.'l'),base64_decode('aW50dmFs'),base64_decode('aW50dmFs'),base64_decode('aXNfd3JpdGFi'.'bGU='),base64_decode('Zm9wZW4='),base64_decode('ZnB1dHM='),base64_decode('Z'.'mNs'.'b3Nl'));if(!function_exists(__NAMESPACE__.'\\___685201798')){function ___685201798($_1834067551){static $_174036541= false; if($_174036541 == false) $_174036541=array('RV'.'JST1I=','RVJST1I=','X1'.'ZBT'.'FV'.'F','VW5rb'.'m9'.'3bi'.'BlcnJvc'.'g'.'==','IFtBU'.'1Iw'.'MV'.'0=','UkVO'.'VA==','T'.'m90IG'.'Zvd'.'W5kIGxpY2Vu'.'c'.'2Uga'.'W5m'.'byBbQVNSM'.'DJd','VjE=','VjI=',''.'VjE=','VjI=','U2VydmVy'.'IHJlc3Bvb'.'n'.'NlIGlz'.'IG5vdCByZW'.'Nv'.'Z25'.'pem'.'Vk'.'I'.'FtBU0'.'F'.'MSTAx'.'XQ==','bW'.'F'.'pbg==','YWRt'.'aW'.'5fcGFzc'.'3dvcm'.'Ro',''.'RE9DVU1FTlRfUk9PVA'.'==','L2Jpd'.'HJ'.'peC'.'9tb2R1bGVzL21h'.'a'.'W4v'.'YWRt'.'aW4=','RE'.'9DV'.'U1'.'FTlRfUk'.'9P'.'VA==','L2JpdH'.'Jpe'.'C9tb2'.'R'.'1bGVzL'.'21haW4'.'vYWRtaW4vZGVm'.'aW'.'5lLnBocA==','dw==',''.'PA='.'=','P0R'.'lZm'.'luZ'.'Sgi'.'VEV'.'NUE'.'9SQVJZX0NBQ0h'.'FIiwgIg==',''.'Iik'.'7'.'Pw==','Pg'.'==','RmlsZSBv'.'cGV'.'uIGZh'.'a'.'Wx'.'zIFtB'.'U'.'0F'.'MST'.'AyX'.'Q='.'=','Rm9sZGVyI'.'GlzIG'.'5v'.'d'.'CB'.'3cm'.'l'.'0YWJs'.'Z'.'SBb'.'QV'.'NBTEkwM10=','RE'.'FURV9UT19TT1'.'V'.'SQ0U'.'=','bWFpbg==','fnN1cHBvcnR'.'fZmluaXNo'.'X2'.'R'.'hdG'.'U'.'=','RE'.'FURV9UT19TT1VSQ'.'0U=','TUFYX'.'1NJVEVT','bWFpbg==',''.'UE'.'F'.'SQU'.'1f'.'TU'.'FYX1N'.'JVEVT','TUFYX1NJVEVT',''.'TUFYX1VTRVJT','bWFp'.'bg'.'==','UEFSQU1'.'fTUF'.'YX1VTRVJT','TUFYX1VTRVJ'.'T','TUFY'.'X1VTRVJT'.'X1'.'NU'.'UklORw==','bW'.'Fpbg'.'='.'=','flBBUkF'.'NX01'.'BW'.'F'.'9VU0VSU'.'w==','TUFY'.'X1VTRV'.'JT'.'X'.'1NU'.'UklO'.'Rw==','REF'.'URV9U'.'T19TT'.'1VSQ0'.'V'.'fU1RSSU5H','bWFp'.'bg'.'==','f'.'lB'.'BUkFNX0Z'.'JTk'.'lTSF9E'.'QVRF','REFU'.'RV9U'.'T19'.'TT1'.'VS'.'Q0VfU1RSSU5H',''.'SVNM'.'Qw==',''.'RE9'.'DVU'.'1FTl'.'RfUk9'.'P'.'V'.'A='.'=','L2JpdHJpe'.'A'.'==','RE9DVU1FT'.'lRfUk'.'9PV'.'A==','L'.'2JpdHJpeC'.'9saWNlbnNl'.'X'.'2'.'tle'.'S5waHA=','d2I=','PA==',''.'PyRMSUNFTlNFX0tFWSA9I'.'CI=','Ij'.'s/','Pg='.'=',''.'R'.'ml'.'sZSBv'.'cGVuIGZh'.'a'.'WxzI'.'F'.'tBU0F'.'MSTA0X'.'Q==','Rm9'.'sZGVyI'.'GlzIG5vdCB3'.'cml0YWJsZSB'.'b'.'QVNBT'.'EkwNV0=',''.'Tm'.'9'.'0'.'IGZ'.'vdW5'.'kIGxpY2Vuc2Ug'.'aW5mbyBbQV'.'N'.'BSDAxXQ==','c'.'mV'.'zdWx0','cmVzdW'.'x0','ZXJyb3I=',''.'bWV'.'zc2'.'FnZQ==','RXJyb3Igc2VuZCBw'.'YXJ0bm'.'Vy'.'IGluZ'.'m8g'.'W0'.'FT'.'U0lUUDAx'.'XQ'.'==','cm'.'VzcG9uc2U=',''.'cmVx'.'dW'.'Vz'.'dA'.'==','Z'.'X'.'Jyb3I=','VW5r'.'bm93biBlcn'.'Jvcg==','IFtB'.'U1N'.'JVFAwMV'.'0=');return base64_decode($_174036541[$_1834067551]);}}; use Bitrix\Main\Application; use Bitrix\Main\Result; use Bitrix\Main\Security\SecurityException; use Bitrix\Main\SystemException; use Bitrix\Main\Web\Json; class ActivationSystem{  public function reincarnate(Coupon $_190818947): Result{  $_352170876= new ReincarnationRequestBuilder($_190818947); $_467526381=(new RequestFactory($_352170876))->build();  $_46372598= $_467526381->send();  $_719573638= new UpdateServerDataParser($_46372598); $_2027410162= $_719573638->parse(); if(isset($_2027410162[___685201798(0)])){ throw new SystemException(($_2027410162[___685201798(1)][___685201798(2)] ?? ___685201798(3)).___685201798(4));} $_2027410162= $_2027410162[___685201798(5)] ??[]; if(empty($_2027410162)){ throw new SystemException(___685201798(6));} $this->applyLicenseInfo($_2027410162, $_190818947->getKey()); $_1566418425= new Result(); return $_1566418425->setData($_2027410162);}  protected function applyLicenseInfo(array $_2027410162, string $_1830641112): void{ if(isset($_2027410162[___685201798(7)], $_2027410162[___685201798(8)])){ $_1796027225= $_2027410162[___685201798(9)]; $_1252690906= $_2027410162[___685201798(10)]; if(empty($_1796027225) || empty($_1252690906)){ throw new SystemException(___685201798(11));} \COption::SetOptionString(___685201798(12), ___685201798(13), $_1796027225); if($GLOBALS['____56737434'][0]($_SERVER[___685201798(14)].___685201798(15))){ if($_961758180= $GLOBALS['____56737434'][1]($_SERVER[___685201798(16)].___685201798(17), ___685201798(18))){ $GLOBALS['____56737434'][2]($_961758180, ___685201798(19).___685201798(20).$_1252690906.___685201798(21).___685201798(22)); $GLOBALS['____56737434'][3]($_961758180);} else{ throw new SystemException(___685201798(23));}} else{ throw new SystemException(___685201798(24));}} if(isset($_2027410162[___685201798(25)])){ \COption::SetOptionString(___685201798(26), ___685201798(27), $_2027410162[___685201798(28)]);} if(isset($_2027410162[___685201798(29)])){ \COption::SetOptionString(___685201798(30), ___685201798(31), $GLOBALS['____56737434'][4]($_2027410162[___685201798(32)]));} if(isset($_2027410162[___685201798(33)])){ \COption::SetOptionString(___685201798(34), ___685201798(35), $GLOBALS['____56737434'][5]($_2027410162[___685201798(36)]));} if(isset($_2027410162[___685201798(37)])){ \COption::SetOptionString(___685201798(38), ___685201798(39), $_2027410162[___685201798(40)]);} if(isset($_2027410162[___685201798(41)])){ \COption::SetOptionString(___685201798(42), ___685201798(43), $_2027410162[___685201798(44)]);} if(isset($_2027410162[___685201798(45)])){ if($GLOBALS['____56737434'][6]($_SERVER[___685201798(46)].___685201798(47))){ if($_961758180= $GLOBALS['____56737434'][7]($_SERVER[___685201798(48)].___685201798(49), ___685201798(50))){ $GLOBALS['____56737434'][8]($_961758180, ___685201798(51).___685201798(52).EscapePHPString($_1830641112).___685201798(53).___685201798(54)); $GLOBALS['____56737434'][9]($_961758180);} else{ throw new SystemException(___685201798(55));}} else{ throw new SystemException(___685201798(56));}}}  public function activateByHash(string $_642636642): Result{ $_719573638= new HashCodeParser($_642636642); $_2027410162= $_719573638->parse(); if(empty($_2027410162)){ throw new SystemException(___685201798(57));} $_1830641112= Application::getInstance()->getLicense()->getKey(); $this->applyLicenseInfo($_2027410162, $_1830641112); $_1566418425= new Result(); return $_1566418425->setData($_2027410162);}  public function sendInfoToPartner(string $_1524764429, string $_2064367365, string $_23996694): Result{ $_352170876= new PartnerInfoRequestBuilder($_1524764429, $_2064367365, $_23996694); $_467526381=(new RequestFactory($_352170876))->build();  $_46372598= $_467526381->send(); $_46372598= Json::decode($_46372598); if(!isset($_46372598[___685201798(58)]) || $_46372598[___685201798(59)] === ___685201798(60)){ $_475026431=[ ___685201798(61) => ___685201798(62), ___685201798(63) => $_46372598, ___685201798(64) => $_467526381]; throw new SystemException(($_46372598[___685201798(65)] ?? ___685201798(66)).___685201798(67));} return(new Result())->setData($_46372598);}}?>