"use strict";var AppControlThemes=function(){function a(){var a=0,b=!1;$("#control-panel .toggle-control").on("click",function(){return $("#control-panel").toggleClass("open"),$("#control-panel").hasClass("open")?($(this).addClass("open").children("i").addClass("fa-spin"),sessionStorage.setItem("control_panel_show","Y")):($(this).removeClass("open").children("i").removeClass("fa-spin"),sessionStorage.setItem("control_panel_show","N")),!1}),"Y"===sessionStorage.getItem("control_panel_show")&&$("#control-panel .toggle-control").trigger("click"),$("#control-panel .toggle-control").on("mouseover",function(){$(this).hasClass("open")||$(this).children("i").addClass("fa-spin")}).on("mouseout",function(){$(this).hasClass("open")||$(this).children("i").removeClass("fa-spin")}),$("#control-panel label").on("click",function(a){$(this).addClass("active").siblings("label").removeClass("active")}),$('input[name="custom_color_main"]').minicolors({theme:"box",changeDelay:25,change:function(a,b){$(".box-custom .main").css({"border-color":a+" transparent transparent transparent"})}}),$('input[name="custom_color_second"]').minicolors({theme:"box",changeDelay:25,change:function(a,b){$(".box-custom .dark").css({"border-color":"transparent transparent "+a+" transparent"})}}),$("#custom-color .box-color").on("click",function(a){$(this).parent("label").find(".popup-color-set").toggleClass("hidden"),$(this).parent("label").find("input[name='theme_color']").prop("checked",!0),a.preventDefault()}),$(".popup-color-set .close").on("click",function(a){$(this).parent(".popup-color-set").addClass("hidden"),a.preventDefault()}),$(document).on("click",function(a){$(a.target).closest("#custom-color").length||$(".popup-color-set").addClass("hidden"),a.stopPropagation()}),$('.theme-control input[data-reload="Y"]').on("change",function(a){b=!0}),$("form[name='theme-control'] button[type='submit']").on("click",function(){var c=$(this).parents("form"),d=$(this).attr("name");if(0===a){var e=c.find("button");a=1,e.prop("disabled",!0),$.ajax({type:"POST",url:c.attr("action"),data:c.serialize()+"&"+d+"=Y&ajax=Y",cache:!1,dataType:"json"}).done(function(a,e,f){void 0!==a.css&&($("#custom_style").length>0?$("#custom_style").text(a.css):$("<style id='custom_style'>"+a.css+"</style>").appendTo("head")),"theme"in a&&($(".label-themes").removeClass("active"),$(".label-themes[data-theme='"+a.theme+"']").addClass("active"),$("input[name='theme_color'][value='"+a.theme+"']").prop("checked",!0)),"layout"in a&&("layouts"in a&&Array.isArray(a.layouts)&&($("body").removeClass(a.layouts.join(" ")),"wide"!==a.layout&&$("body").addClass(a.layout)),c.find("input[name='layout'][value='"+a.layout+"']").parent("label").trigger("click")),(b||"reset"===d)&&window.location.reload(!0)}).fail(function(a,b,c){alert(b+": "+c)}).always(function(b,c){a=0,e.prop("disabled",!1)})}return!1})}return document.addEventListener("DOMContentLoaded",function(b){a()},!1),{}}();